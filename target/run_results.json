{"results": [{"node": {"raw_sql": "select\n    CURRENT_DATE() as Ingestion_date, \n    countif(source.Gender is not null and source.Gender = \"F\") as Female_num_count,\n    countif(source.Gender is not null and source.Gender = \"M\") as Male_num_count,\nfrom \n    {{ source('springml_demo_dataset','applicant_data') }} as source", "database": "prismatic-cider-279015", "schema": "springml_demo_dataset", "fqn": ["springml_demo_dbt_project", "applicant", "gender_count"], "unique_id": "model.springml_demo_dbt_project.gender_count", "package_name": "springml_demo_dbt_project", "root_path": "/Users/medhapatil/springml/springml_demo_dbt", "path": "applicant/gender_count.sql", "original_file_path": "models/applicant/gender_count.sql", "name": "gender_count", "resource_type": "model", "alias": "gender_count", "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "tags": []}, "tags": [], "refs": [], "sources": [["springml_demo_dataset", "applicant_data"]], "depends_on": {"macros": ["macro.dbt.run_hooks", "macro.dbt.statement", "macro.dbt.persist_docs"], "nodes": ["source.springml_demo_dbt_project.springml_demo_dataset.applicant_data"]}, "description": "Number of female and male applicants till today", "columns": {"Ingestion_date": {"name": "Ingestion_date", "description": "", "meta": {}, "data_type": null, "tags": []}, "Female_count": {"name": "Female_count", "description": "", "meta": {}, "data_type": null, "tags": []}, "Male_count": {"name": "Male_count", "description": "", "meta": {}, "data_type": null, "tags": []}}, "meta": {}, "docs": {"show": true}, "patch_path": "models/applicant/schema.yml", "build_path": "target/run/springml_demo_dbt_project/models/applicant/gender_count.sql", "compiled": true, "compiled_sql": "select\n    CURRENT_DATE() as Ingestion_date, \n    countif(source.Gender is not null and source.Gender = \"F\") as Female_num_count,\n    countif(source.Gender is not null and source.Gender = \"M\") as Male_num_count,\nfrom \n    `prismatic-cider-279015`.`springml_demo_dataset`.`applicant_data` as source", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "select\n    CURRENT_DATE() as Ingestion_date, \n    countif(source.Gender is not null and source.Gender = \"F\") as Female_num_count,\n    countif(source.Gender is not null and source.Gender = \"M\") as Male_num_count,\nfrom \n    `prismatic-cider-279015`.`springml_demo_dataset`.`applicant_data` as source"}, "error": null, "status": "CREATE TABLE (1)", "execution_time": 3.0425360202789307, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-07-30T17:03:34.396439Z", "completed_at": "2020-07-30T17:03:34.422651Z"}, {"name": "execute", "started_at": "2020-07-30T17:03:34.423209Z", "completed_at": "2020-07-30T17:03:37.437879Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "with source as (\n\tselect * \n\tfrom\n\t\t{{ source('springml_demo_dataset','applicant_data') }}\n),\n\ncasted as (\n\tselect\n\t\tEmployee_no as Emp_no,\n\t\tcast(Phone_no as string),\n\t\tcast(Social_insurance_no as string)\n\tfrom source\n),\n\ncasted_redacted as (\n\tselect\n\t\tEmp_no,\n\t\t'##ARCHIVED##' as Phone_no,\n\t\t'##ARCHIVED##' as Social_insurance_no\n\tfrom casted\n),\n\nredacted as (\n\tselect\n\t\tEmployee_no,\n\t\t'##ARCHIVED##' as Surname,\n\t\t'##ARCHIVED##'as Given_name,\n\t\tGender,\n\t\tCity,\n\t\tAge,\n\t\tYear_joined\n\tfrom\t\n\t\tsource\n)\n\nselect \n\tredacted.Employee_no,\n\tredacted.Surname,\n\tredacted.Given_name,\n\tredacted.Gender,\n\tredacted.City,\n\tredacted.Age,\n\tredacted.Year_joined,\n\tcasted_redacted.Phone_no,\n\tcasted_redacted.Social_insurance_no\nfrom \n\tredacted\njoin \n\tcasted_redacted \n\t\ton redacted.Employee_no = casted_redacted.Emp_no", "database": "prismatic-cider-279015", "schema": "springml_demo_dataset", "fqn": ["springml_demo_dbt_project", "applicant", "redact_fields"], "unique_id": "model.springml_demo_dbt_project.redact_fields", "package_name": "springml_demo_dbt_project", "root_path": "/Users/medhapatil/springml/springml_demo_dbt", "path": "applicant/redact_fields.sql", "original_file_path": "models/applicant/redact_fields.sql", "name": "redact_fields", "resource_type": "model", "alias": "redact_fields", "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "tags": []}, "tags": [], "refs": [], "sources": [["springml_demo_dataset", "applicant_data"]], "depends_on": {"macros": ["macro.dbt.run_hooks", "macro.dbt.statement", "macro.dbt.persist_docs"], "nodes": ["source.springml_demo_dbt_project.springml_demo_dataset.applicant_data"]}, "description": "Redacted table of applicants hired more than 5 years ago from today", "columns": {"Employee_no": {"name": "Employee_no", "description": "", "meta": {}, "data_type": null, "tags": []}, "Surname": {"name": "Surname", "description": "", "meta": {}, "data_type": null, "tags": []}, "Given_name": {"name": "Given_name", "description": "", "meta": {}, "data_type": null, "tags": []}, "Gender": {"name": "Gender", "description": "", "meta": {}, "data_type": null, "tags": []}, "City": {"name": "City", "description": "", "meta": {}, "data_type": null, "tags": []}, "Age": {"name": "Age", "description": "", "meta": {}, "data_type": null, "tags": []}, "Year_joined": {"name": "Year_joined", "description": "", "meta": {}, "data_type": null, "tags": []}, "Phone_no": {"name": "Phone_no", "description": "", "meta": {}, "data_type": null, "tags": []}, "Social_insurance_no": {"name": "Social_insurance_no", "description": "", "meta": {}, "data_type": null, "tags": []}}, "meta": {}, "docs": {"show": true}, "patch_path": "models/applicant/schema.yml", "build_path": "target/run/springml_demo_dbt_project/models/applicant/redact_fields.sql", "compiled": true, "compiled_sql": "with source as (\n\tselect * \n\tfrom\n\t\t`prismatic-cider-279015`.`springml_demo_dataset`.`applicant_data`\n),\n\ncasted as (\n\tselect\n\t\tEmployee_no as Emp_no,\n\t\tcast(Phone_no as string),\n\t\tcast(Social_insurance_no as string)\n\tfrom source\n),\n\ncasted_redacted as (\n\tselect\n\t\tEmp_no,\n\t\t'##ARCHIVED##' as Phone_no,\n\t\t'##ARCHIVED##' as Social_insurance_no\n\tfrom casted\n),\n\nredacted as (\n\tselect\n\t\tEmployee_no,\n\t\t'##ARCHIVED##' as Surname,\n\t\t'##ARCHIVED##'as Given_name,\n\t\tGender,\n\t\tCity,\n\t\tAge,\n\t\tYear_joined\n\tfrom\t\n\t\tsource\n)\n\nselect \n\tredacted.Employee_no,\n\tredacted.Surname,\n\tredacted.Given_name,\n\tredacted.Gender,\n\tredacted.City,\n\tredacted.Age,\n\tredacted.Year_joined,\n\tcasted_redacted.Phone_no,\n\tcasted_redacted.Social_insurance_no\nfrom \n\tredacted\njoin \n\tcasted_redacted \n\t\ton redacted.Employee_no = casted_redacted.Emp_no", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "with source as (\n\tselect * \n\tfrom\n\t\t`prismatic-cider-279015`.`springml_demo_dataset`.`applicant_data`\n),\n\ncasted as (\n\tselect\n\t\tEmployee_no as Emp_no,\n\t\tcast(Phone_no as string),\n\t\tcast(Social_insurance_no as string)\n\tfrom source\n),\n\ncasted_redacted as (\n\tselect\n\t\tEmp_no,\n\t\t'##ARCHIVED##' as Phone_no,\n\t\t'##ARCHIVED##' as Social_insurance_no\n\tfrom casted\n),\n\nredacted as (\n\tselect\n\t\tEmployee_no,\n\t\t'##ARCHIVED##' as Surname,\n\t\t'##ARCHIVED##'as Given_name,\n\t\tGender,\n\t\tCity,\n\t\tAge,\n\t\tYear_joined\n\tfrom\t\n\t\tsource\n)\n\nselect \n\tredacted.Employee_no,\n\tredacted.Surname,\n\tredacted.Given_name,\n\tredacted.Gender,\n\tredacted.City,\n\tredacted.Age,\n\tredacted.Year_joined,\n\tcasted_redacted.Phone_no,\n\tcasted_redacted.Social_insurance_no\nfrom \n\tredacted\njoin \n\tcasted_redacted \n\t\ton redacted.Employee_no = casted_redacted.Emp_no"}, "error": null, "status": "CREATE TABLE (8336)", "execution_time": 4.688875913619995, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-07-30T17:03:37.442190Z", "completed_at": "2020-07-30T17:03:37.455814Z"}, {"name": "execute", "started_at": "2020-07-30T17:03:37.456413Z", "completed_at": "2020-07-30T17:03:42.130044Z"}], "fail": null, "warn": null, "skip": false}], "generated_at": "2020-07-30T17:03:42.140330Z", "elapsed_time": 9.975733995437622}